<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Sensor Optimization</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link rel="stylesheet" href="./style.css">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>

<body>

    <div style="background-color:rgb(13, 25, 194); height:580px;">

        <!-- NAVBAR -->
        <nav class="navbar navbar-expand-md ">
            <div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
                <ul class="navbar-nav mr-auto">
                    <img src="./logo.png" width="40" height="40" />
                    <li class="nav-item active">
                        <a class="nav-link" style="color:white;" href="#">Sensor Optimization</a>
                    </li>
                </ul>
            </div>
            <div class="mx-auto order-0">
                <a class="navbar-brand mx-auto" style="color:white;" href="#">Home</a>
            </div>
            <div class="mx-auto order-0">
                <a class="navbar-brand mx-auto" style="color:white;" href="#">Features</a>
            </div>
            <div class="mx-auto order-0">
                <a class="navbar-brand mx-auto" style="color:white;" href="#">FAQ</a>
            </div>
            <div class="navbar w-100 order-3 ">

            </div>
        </nav>

        <!-- FRAME FOR DRAG AND DROP -->
        <div class="frame">
            <div style="margin-top:150px;">
                <img src="./upload.png" width="150" height="150" class="uploadimage" />
                <h3>Upload Your Building In Plan</h3>
                <p style="font-weight:bold;">Format: PDF only</p>
                <!-- <button id="upload" type="button" class="btn btn-primary"><a href="./optimize.html">Browse File</a></button> -->
                <button id="upload" type="button" class="btn btn-primary">Browse files</button>
            </div>
        </div>

    </div>

    <script src="index.js"></script>
    <script>
        const { ipcRenderer, remote } = require('electron')
        const $ = require("jquery")

        document.addEventListener("DOMContentLoaded", function (event) {

            // WHEN YOU CLICK THE UPLOAD BUTTON
            document.querySelector('#upload').addEventListener('click', () => {
                ipcRenderer.send("upload");                
            })

            ipcRenderer.on('btnclick-task-finished', function (event, filepath) {

                // WHEN THE FILEPATH TO THE PDF HAS BEEN ACCEPTED.
                console.log(filepath, "The filepath to the PDF.");

                //TODO: WE NOW NEED TO SEND THE USER TO THE NEXT PAGE FOR OPTIMIZATION.
            });
        
        });

    </script>
</body>

</html>